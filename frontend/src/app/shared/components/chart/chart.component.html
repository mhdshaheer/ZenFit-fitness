<div class="bg-white rounded-lg shadow-sm p-6">
  <div
    class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4"
  >
    <div>
      <h2 class="text-lg font-semibold text-gray-900">Revenue Overview</h2>
      <p class="text-sm text-gray-500 mt-1">Track your revenue performance</p>
    </div>
    <div class="flex gap-2">
      <button
        (click)="filterChange.emit('weekly')"
        [class]="
          filter === 'weekly'
            ? 'bg-gray-900 text-white'
            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
        "
        class="px-4 py-2 text-sm font-medium rounded-lg transition-colors"
      >
        Weekly
      </button>
      <button
        (click)="filterChange.emit('monthly')"
        [class]="
          filter === 'monthly'
            ? 'bg-gray-900 text-white'
            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
        "
        class="px-4 py-2 text-sm font-medium rounded-lg transition-colors"
      >
        Monthly
      </button>
      <button
        (click)="filterChange.emit('yearly')"
        [class]="
          filter === 'yearly'
            ? 'bg-gray-900 text-white'
            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
        "
        class="px-4 py-2 text-sm font-medium rounded-lg transition-colors"
      >
        Yearly
      </button>
    </div>
  </div>

  <div class="relative h-72">
    <div class="absolute inset-0 flex items-end justify-around gap-2 px-4">
      @for ( d of data; track d.name) {

      <div class="flex-1 flex flex-col items-center group">
        <div class="relative w-full mb-2">
          <div
            class="w-full bg-gray-100 rounded-t-lg overflow-hidden transition-all duration-300 hover:opacity-80"
            [style.height.px]="getBarHeight(d.revenue) * 2.5"
          >
            <div
              class="w-full h-full bg-gradient-to-t from-green-500 to-green-400"
            ></div>
          </div>
          <div
            class="absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-900 text-white text-xs py-1 px-2 rounded whitespace-nowrap"
          >
            {{ formatRevenue(d.revenue) }}
          </div>
        </div>
        <span class="text-xs text-gray-600 font-medium">{{ d.name }}</span>
      </div>
      }
    </div>
  </div>
</div>
