<div class="min-h-screen bg-gray-50 p-4 flex items-center justify-center">
  <div class="max-w-6xl w-full">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-gray-900 text-4xl font-bold mb-2">BMI Calculator</h1>
      <p class="text-gray-500 text-sm">Calculate your Body Mass Index</p>
    </div>

    <!-- Responsive Layout: Column on mobile, Row on larger screens -->
    <div class="flex flex-col lg:flex-row gap-6">
      <!-- Main Calculation Card -->
      <div class="w-full lg:w-1/2">
        <div class="bg-white rounded-2xl shadow-lg p-8 space-y-6">
          <!-- BMI Result Circle -->
          @if (bmi !== null) {
            <div
              class="flex justify-center py-8 animate-fadeIn"
              >
              <div class="relative">
                <!-- Circular Progress -->
                <svg class="transform -rotate-90" width="220" height="220">
                  <!-- Background circle -->
                  <circle
                    cx="110"
                    cy="110"
                    r="95"
                    stroke="#e5e7eb"
                    stroke-width="16"
                    fill="none"
                    />
                    <!-- Progress circle -->
                    <circle
                      cx="110"
                      cy="110"
                      r="95"
                      [attr.stroke]="circleColor"
                      stroke-width="16"
                      fill="none"
                      stroke-linecap="round"
                      [style.stroke-dasharray]="597"
                  [style.stroke-dashoffset]="
                    597 - (597 * progressPercentage) / 100
                  "
                      class="transition-all duration-1000 ease-out"
                      />
                    </svg>
                    <!-- Center content -->
                    <div
                      class="absolute inset-0 flex flex-col items-center justify-center"
                      >
                      <div class="text-6xl font-bold text-gray-900">
                        {{ bmi.toFixed(1) }}
                      </div>
                      <div class="text-gray-500 text-base font-medium mt-2">
                        {{ category }}
                      </div>
                    </div>
                  </div>
                </div>
              }

              <!-- Empty State -->
              @if (bmi === null) {
                <div class="flex justify-center py-8">
                  <div class="text-center">
                    <div
                      class="w-40 h-40 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-4"
                      >
                      <svg
                        class="w-20 h-20 text-gray-400"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                        ></path>
                      </svg>
                    </div>
                    <p class="text-gray-400 text-sm">Enter your details below</p>
                  </div>
                </div>
              }

              <!-- Input Grid -->
              <div class="grid grid-cols-2 gap-4">
                <!-- Height Input -->
                <div
                  class="bg-gray-50 rounded-xl p-5 border border-gray-200 hover:border-gray-300 transition-colors"
                  >
                  <div class="flex items-center justify-between mb-3">
                    <span
                      class="text-xs font-semibold text-gray-500 uppercase tracking-wider"
                      >Height</span
                      >
                      <svg
                        class="w-5 h-5 text-gray-400"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                        >
                        <path
                          d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z"
                          />
                        </svg>
                      </div>
                      <div class="flex items-end">
                        <input
                          type="number"
                          [(ngModel)]="height"
                          (ngModelChange)="onInputChange()"
                          placeholder="cm"
                          class="bg-transparent text-sm font-bold text-gray-900 w-full outline-none placeholder:text-gray-400"
                          />
                        </div>
                      </div>

                      <!-- Weight Input -->
                      <div
                        class="bg-gray-50 rounded-xl p-5 border border-gray-200 hover:border-gray-300 transition-colors"
                        >
                        <div class="flex items-center justify-between mb-3">
                          <span
                            class="text-xs font-semibold text-gray-500 uppercase tracking-wider"
                            >Weight</span
                            >
                            <svg
                              class="w-5 h-5 text-gray-400"
                              fill="currentColor"
                              viewBox="0 0 20 20"
                              >
                              <path
                                fill-rule="evenodd"
                                d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 1a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zm4-4a1 1 0 100 2h.01a1 1 0 100-2H13zM9 9a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zM7 8a1 1 0 000 2h.01a1 1 0 000-2H7z"
                                clip-rule="evenodd"
                                />
                              </svg>
                            </div>
                            <div class="flex items-end">
                              <input
                                type="number"
                                [(ngModel)]="weight"
                                (ngModelChange)="onInputChange()"
                                placeholder="kg"
                                class="bg-transparent text-sm font-bold text-gray-900 w-full outline-none placeholder:text-gray-400"
                                />
                              </div>
                            </div>
                          </div>

                          <!-- Calculate Button -->
                          <button
                            (click)="onInputChange()"
                            class="w-full bg-gray-900 text-white py-4 rounded-xl font-semibold text-lg shadow-lg hover:bg-gray-800 transform hover:scale-[1.01] transition-all duration-300"
                            >
                            Calculate BMI
                          </button>
                        </div>
                      </div>

                      <!-- Recommendations Section -->
                      <div class="w-full lg:w-1/2">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                          <!-- Recommendations -->
                          @if (bmi !== null) {
                            <div class="space-y-4 animate-fadeIn">
                              <div class="bg-gray-50 rounded-xl p-5 border border-gray-200">
                                <div class="flex items-start">
                                  <div class="flex-shrink-0">
                                    <div
                                      class="w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center"
                                      >
                                      <svg
                                        class="w-6 h-6 text-white"
                                        fill="currentColor"
                                        viewBox="0 0 20 20"
                                        >
                                        <path
                                          d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"
                                          />
                                        </svg>
                                      </div>
                                    </div>
                                    <div class="ml-4">
                                      <h3 class="text-sm font-bold text-gray-900 mb-1">
                                        Recommended Meal Plan
                                      </h3>
                                      <p class="text-sm text-gray-600 leading-relaxed">
                                        {{ mealPlan }}
                                      </p>
                                    </div>
                                  </div>
                                </div>
                                <div class="bg-gray-50 rounded-xl p-5 border border-gray-200">
                                  <div class="flex items-start">
                                    <div class="flex-shrink-0">
                                      <div
                                        class="w-12 h-12 bg-gray-900 rounded-xl flex items-center justify-center"
                                        >
                                        <svg
                                          class="w-6 h-6 text-white"
                                          fill="currentColor"
                                          viewBox="0 0 20 20"
                                          >
                                          <path
                                            fill-rule="evenodd"
                                            d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z"
                                            clip-rule="evenodd"
                                            />
                                          </svg>
                                        </div>
                                      </div>
                                      <div class="ml-4">
                                        <h3 class="text-sm font-bold text-gray-900 mb-1">
                                          Workout Suggestion
                                        </h3>
                                        <p class="text-sm text-gray-600 leading-relaxed">
                                          {{ workoutSuggestion }}
                                        </p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              }

                              <!-- BMI Scale Reference -->
                              @if (bmi !== null) {
                                <div
                                  class="pt-6 border-t border-gray-100 mt-6 animate-fadeIn"
                                  >
                                  <h3
                                    class="text-xs font-bold text-gray-500 uppercase tracking-wider mb-4"
                                    >
                                    BMI Categories
                                  </h3>
                                  <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                      <div class="flex items-center">
                                        <div class="w-4 h-4 rounded-full bg-gray-300 mr-3"></div>
                                        <span class="text-sm text-gray-700 font-medium"
                                          >Underweight</span
                                          >
                                        </div>
                                        <span class="text-sm text-gray-500 font-semibold">< 18.5</span>
                                      </div>
                                      <div class="flex items-center justify-between">
                                        <div class="flex items-center">
                                          <div class="w-4 h-4 rounded-full bg-gray-900 mr-3"></div>
                                          <span class="text-sm text-gray-700 font-medium">Normal</span>
                                        </div>
                                        <span class="text-sm text-gray-500 font-semibold"
                                          >18.5 - 24.9</span
                                          >
                                        </div>
                                        <div class="flex items-center justify-between">
                                          <div class="flex items-center">
                                            <div class="w-4 h-4 rounded-full bg-gray-500 mr-3"></div>
                                            <span class="text-sm text-gray-700 font-medium"
                                              >Overweight</span
                                              >
                                            </div>
                                            <span class="text-sm text-gray-500 font-semibold"
                                              >25.0 - 29.9</span
                                              >
                                            </div>
                                            <div class="flex items-center justify-between">
                                              <div class="flex items-center">
                                                <div class="w-4 h-4 rounded-full bg-gray-700 mr-3"></div>
                                                <span class="text-sm text-gray-700 font-medium">Obese</span>
                                              </div>
                                              <span class="text-sm text-gray-500 font-semibold">â‰¥ 30.0</span>
                                            </div>
                                          </div>
                                        </div>
                                      }

                                      <!-- Empty State for Recommendations -->
                                      @if (bmi === null) {
                                        <div
                                          class="flex justify-center items-center h-full min-h-[400px]"
                                          >
                                          <p class="text-gray-400 text-sm">
                                            Calculate your BMI to see recommendations
                                          </p>
                                        </div>
                                      }
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
